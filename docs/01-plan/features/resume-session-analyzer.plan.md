# Plan: Resume Session Analyzer (이력서 세션 분석기)

> 최근 Claude Code 세션을 분석하여 이력서에 작성할 성과를 자동 식별하고 초안을 생성하는 기능

## 참조 문서
- 기존 스킬: `.claude/skills/resume-ref/SKILL.md`
- 설계 문서: `docs/02-design/features/resume-reference.design.md`

---

## 1. 배경 및 필요성

### 현재 상황 (AS-IS)
- `resume-ref` 스킬에 `generate --from-sessions` 옵션이 정의되어 있으나 미구현
- Git 커밋 기반 생성(`--from-git`)은 커밋 메시지만 분석하여 컨텍스트가 부족
- 개발자가 수동으로 세션 내용을 기억하고 이력서에 반영해야 함

### 문제점
1. **기억 의존성**: 몇 주/몇 달 전 작업 내용을 정확히 기억하기 어려움
2. **맥락 손실**: 단순 커밋 메시지로는 문제 해결 과정, 기술적 도전 등 맥락 파악 불가
3. **연관 작업 분산**: 여러 세션에 걸친 하나의 프로젝트/성과가 분리되어 인식됨

### 목표 상태 (TO-BE)
- claude-mem에 저장된 세션 데이터를 분석하여 이력서 작성 가능 성과 자동 식별
- 연관 세션을 그룹핑하여 하나의 완성된 성과로 제시
- Reference 패턴을 적용한 이력서 초안 자동 생성

---

## 2. 기능 요구사항

### 2.1 세션 분석 (FR-01)

**입력**: 분석 기간 (기본: 최근 30일)
**출력**: 이력서 작성 가능 항목 목록

**분석 대상**:
| 카테고리 | 식별 기준 | 예시 |
|----------|----------|------|
| 신규 기능 개발 | `🟣 feature` 타입, "구현", "개발" 키워드 | "resume-ref 스킬 구현" |
| 성능 최적화 | "최적화", "개선", 수치 포함 | "쿼리 응답 시간 60% 단축" |
| 버그 수정 | `🔴 bugfix` 타입, "수정", "해결" 키워드 | "N+1 문제 해결" |
| 아키텍처 변경 | "리팩토링", "마이그레이션", "설계" | "마이크로서비스 전환" |
| 문서화/자동화 | "문서", "자동화", "스크립트" | "CI/CD 파이프라인 구축" |

**분석 알고리즘**:
1. claude-mem에서 기간 내 observations 조회
2. 타입별 필터링 (`🟣 feature`, `🔴 bugfix`, `⚖️ decision` 등)
3. 키워드 매칭으로 이력서 작성 가능 여부 판단
4. 정량적 수치 추출 (숫자 + 단위 패턴)

### 2.2 세션 연관성 분석 (FR-02)

**목적**: 여러 세션에 걸친 작업을 하나의 성과로 그룹핑

**연관성 기준**:
| 기준 | 가중치 | 설명 |
|------|--------|------|
| 파일 경로 공유 | 0.4 | 같은 파일/폴더를 다룬 세션 |
| 키워드 유사도 | 0.3 | 제목/설명의 핵심 키워드 일치 |
| 시간적 근접성 | 0.2 | 연속된 날짜의 세션 |
| 명시적 연결 | 0.1 | session prompt에서 이전 작업 언급 |

**그룹핑 로직**:
```
1. 모든 세션 쌍의 연관 점수 계산
2. 점수 >= 0.5 인 세션들을 같은 그룹으로
3. 그룹 내 세션들의 성과를 통합
4. 통합된 성과에 대표 제목 생성
```

**예시**:
```
세션 A (2/1): "resume-ref 스킬 Plan 작성"
세션 B (2/2): "resume-ref 스킬 Design 작성"
세션 C (2/4): "resume-ref 스킬 구현 완료"
→ 그룹: "이력서 자동 생성 스킬 개발" (3개 세션 통합)
```

### 2.3 이력서 초안 생성 (FR-03)

**입력**: 분석된 성과 목록
**출력**: 이력서 초안 마크다운 파일

**생성 과정**:
1. 식별된 성과를 프로젝트별로 그룹핑
2. 각 성과에 Reference 패턴 적용:
   - `sentence-patterns.md` → 문장 구조
   - `action-verbs.md` → 강한 동사로 변환
   - `metrics-examples.md` → 정량화 표현 추가
3. 섹션별 배치 (경력/프로젝트/기술)
4. 초안 파일 생성

**출력 형식**:
```markdown
# 이력서 초안 (세션 분석 기반)

> 분석 기간: 2026-01-01 ~ 2026-02-04
> 분석 세션: 15개
> 식별된 성과: 5개

## 주요 성과

### 1. 이력서 자동 생성 스킬 개발
**기간**: 2026-02-01 ~ 2026-02-04
**관련 세션**: 3개

- Claude Code 기반 이력서 자동 생성 스킬을 설계/구현하여 개발자 이력서 작성 효율화
- Rallit 인기 이력서 분석을 통한 문장 패턴 Reference 시스템 구축
- Git 커밋 분석 기반 성과 자동 추출 기능 구현

**기술 스택**: Claude Code, Markdown, Shell Script

---

## 다음 단계

1. [ ] 초안 검토 및 수정
2. [ ] 정량적 수치 보완 (필요시)
3. [ ] 최종 이력서에 반영
```

### 2.4 대화형 보완 (FR-04)

**목적**: AI가 놓친 맥락을 사용자에게 질문하여 보완

**질문 예시**:
```
Q: "resume-ref 스킬 개발"에서 정량적 성과가 있나요?
   예: 코드 라인 수, 작업 시간 단축, 사용 빈도 등

Q: 이 작업의 비즈니스 임팩트가 있다면?
   예: 팀 생산성 향상, 비용 절감 등
```

---

## 3. 기술 설계

### 3.1 데이터 소스

```
┌─────────────────────────────────────────────────────────────────┐
│ claude-mem MCP                                                  │
│                                                                 │
│  search(query, type, dateStart, dateEnd)                       │
│    → observations 목록 반환                                     │
│                                                                 │
│  timeline(anchor, depth_before, depth_after)                   │
│    → 특정 observation 주변 컨텍스트                              │
│                                                                 │
│  get_observations(ids)                                          │
│    → 상세 내용 조회                                             │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 명령어 인터페이스

```bash
# 기본 사용 (최근 30일)
/resume-ref generate --from-sessions

# 기간 지정
/resume-ref generate --from-sessions --since="2026-01-01"

# 프로젝트 필터
/resume-ref generate --from-sessions --project="dev-assistant"

# 분석만 (초안 생성 없이)
/resume-ref analyze-sessions
```

### 3.3 출력 경로

```
./resume-drafts/
└── session-analysis-YYYY-MM-DD.md
```

---

## 4. 구현 범위

### Phase 1: 기본 세션 분석 (MVP)
- [ ] claude-mem 연동하여 세션 조회
- [ ] 이력서 작성 가능 항목 필터링
- [ ] 기본 초안 생성

### Phase 2: 연관성 분석
- [ ] 파일 경로 기반 연관성 계산
- [ ] 키워드 유사도 분석
- [ ] 세션 그룹핑

### Phase 3: 고도화
- [ ] 대화형 보완 질문
- [ ] 기존 이력서와 병합 기능
- [ ] 프로젝트별 필터링

---

## 5. 제약사항

| 제약 | 설명 | 대응 |
|------|------|------|
| claude-mem 의존 | MCP 서버 실행 필요 | 에러 처리 및 안내 메시지 |
| 데이터 품질 | 세션 기록이 불완전할 수 있음 | 대화형 보완으로 채움 |
| 개인정보 | 민감 정보 포함 가능 | 출력 전 검토 권장 안내 |

---

## 6. 성공 지표

| 지표 | 목표 |
|------|------|
| 성과 식별 정확도 | 80% 이상 (사용자 피드백 기준) |
| 연관 세션 그룹핑 정확도 | 70% 이상 |
| 초안 생성 시간 | 1분 이내 |
| 사용자 수정 필요 비율 | 30% 이하 |

---

## 7. 일정

| 단계 | 예상 |
|------|------|
| Plan | 완료 |
| Design | 다음 |
| Do (Phase 1) | - |
| Check | - |
| Report | - |

---

생성일: 2026-02-04
상태: Ready for Design
